<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3"/>
<title>LTCNM: C:/Users/Shark/Desktop/LINUX_TC_v2.0/LINUX-TC/src/Client/Modules/Reservation/TC_Client_Reserv.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LTCNM
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Linux Traffic Control Network Manager</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_t_c___client___reserv_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">TC_Client_Reserv.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Source code of the functions for the client reservation module.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="_t_c___data___types_8h_source.html">TC_Data_Types.h</a>&quot;</code><br/>
</div>
<p><a href="_t_c___client___reserv_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9c722ca9b2b01e74a91b10a8aecf00a2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_c___client___reserv_8h.html#a9c722ca9b2b01e74a91b10a8aecf00a2">tc_client_reserv_init</a> (char *ifface, unsigned int node_id, <a class="el" href="_t_c___data___types_8h.html#a16ea33e411c2a3f09f664bd5904f001a">NET_ADDR</a> *server_addr)</td></tr>
<tr class="memdesc:a9c722ca9b2b01e74a91b10a8aecf00a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the client reservation module.  <a href="#a9c722ca9b2b01e74a91b10a8aecf00a2"></a><br/></td></tr>
<tr class="separator:a9c722ca9b2b01e74a91b10a8aecf00a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf695aa823bc030cc0a39af0b10d4bd0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_c___client___reserv_8h.html#adf695aa823bc030cc0a39af0b10d4bd0">tc_client_reserv_close</a> (void)</td></tr>
<tr class="memdesc:adf695aa823bc030cc0a39af0b10d4bd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the client reservation module.  <a href="#adf695aa823bc030cc0a39af0b10d4bd0"></a><br/></td></tr>
<tr class="separator:adf695aa823bc030cc0a39af0b10d4bd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67c78b628d3c25598036c0f17d7444de"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_c___client___reserv_8h.html#a67c78b628d3c25598036c0f17d7444de">tc_client_reserv_add</a> (unsigned int <a class="el" href="_t_c___utils_8c.html#a01f97495510d1862834a5a7ab436bc38">topic_id</a>, <a class="el" href="_t_c___data___types_8h.html#a16ea33e411c2a3f09f664bd5904f001a">NET_ADDR</a> *<a class="el" href="_t_c___utils_8c.html#a8f06f921f6ebe1bdae3adca05161f316">topic_addr</a>, unsigned int req_load)</td></tr>
<tr class="memdesc:a67c78b628d3c25598036c0f17d7444de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a network reservation.  <a href="#a67c78b628d3c25598036c0f17d7444de"></a><br/></td></tr>
<tr class="separator:a67c78b628d3c25598036c0f17d7444de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a050b9e0aaa51b72097b358c1a45a6976"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_c___client___reserv_8h.html#a050b9e0aaa51b72097b358c1a45a6976">tc_client_reserv_set</a> (unsigned int <a class="el" href="_t_c___utils_8c.html#a01f97495510d1862834a5a7ab436bc38">topic_id</a>, <a class="el" href="_t_c___data___types_8h.html#a16ea33e411c2a3f09f664bd5904f001a">NET_ADDR</a> *<a class="el" href="_t_c___utils_8c.html#a8f06f921f6ebe1bdae3adca05161f316">topic_addr</a>, unsigned int req_load)</td></tr>
<tr class="memdesc:a050b9e0aaa51b72097b358c1a45a6976"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates a network reservation.  <a href="#a050b9e0aaa51b72097b358c1a45a6976"></a><br/></td></tr>
<tr class="separator:a050b9e0aaa51b72097b358c1a45a6976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a488f5deb2a965ab511f300a5a8794e74"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_c___client___reserv_8h.html#a488f5deb2a965ab511f300a5a8794e74">tc_client_reserv_del</a> (unsigned int <a class="el" href="_t_c___utils_8c.html#a01f97495510d1862834a5a7ab436bc38">topic_id</a>, <a class="el" href="_t_c___data___types_8h.html#a16ea33e411c2a3f09f664bd5904f001a">NET_ADDR</a> *<a class="el" href="_t_c___utils_8c.html#a8f06f921f6ebe1bdae3adca05161f316">topic_addr</a>, unsigned int req_load)</td></tr>
<tr class="memdesc:a488f5deb2a965ab511f300a5a8794e74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees a network reservation.  <a href="#a488f5deb2a965ab511f300a5a8794e74"></a><br/></td></tr>
<tr class="separator:a488f5deb2a965ab511f300a5a8794e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Source code of the functions for the client reservation module. </p>
<p>This file contains the prototypes of the functions for the client reservation module. This module is used by the management module to configure network reservations using the linux traffic control mechanism. Internal module</p>
<dl class="section author"><dt>Author</dt><dd>Luis Silva (<a href="#" onclick="location.href='mai'+'lto:'+'lui'+'s.'+'sil'+'va'+'.ua'+'@g'+'mai'+'l.'+'com'; return false;">luis.<span style="display: none;">.nosp@m.</span>silv<span style="display: none;">.nosp@m.</span>a.ua@<span style="display: none;">.nosp@m.</span>gmai<span style="display: none;">.nosp@m.</span>l.com</a>) </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000012">Bug:</a></b></dt><dd>No known bugs </dd></dl>
<dl class="section date"><dt>Date</dt><dd>31/12/2012 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a67c78b628d3c25598036c0f17d7444de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tc_client_reserv_add </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>topic_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_t_c___data___types_8h.html#a16ea33e411c2a3f09f664bd5904f001a">NET_ADDR</a> *&#160;</td>
          <td class="paramname"><em>topic_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>req_load</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a network reservation. </p>
<p>Creates a network reservation for the topic messages by creating a linux traffic control qdisc (with limited bandwidth) and filter. This filter will assign all the messages with the topic destination address to the configured qdisc</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">topic_id</td><td>The ID of the topic. Must be greater than 0 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">topic_addr</td><td>The topic network address. Must not be a NULL pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">req_load</td><td>The reservation bandwidth ammount. Must be greater than 0</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>assert( topic_id ); </dd>
<dd>
assert( topic_addr ); </dd>
<dd>
assert( req_load );</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Upon successful return : ERR_OK (0) </dd>
<dd>
Upon output error : An error code (&lt;0)</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000008">Todo:</a></b></dt><dd>Create missing error codes </dd></dl>

</div>
</div>
<a class="anchor" id="adf695aa823bc030cc0a39af0b10d4bd0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tc_client_reserv_close </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes the client reservation module. </p>
<p>Frees all the reservations made and closes the module</p>
<dl class="section pre"><dt>Precondition</dt><dd>None</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Upon successful return : ERR_OK (0) </dd>
<dd>
Upon output error : An error code (&lt;0) </dd></dl>

</div>
</div>
<a class="anchor" id="a488f5deb2a965ab511f300a5a8794e74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tc_client_reserv_del </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>topic_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_t_c___data___types_8h.html#a16ea33e411c2a3f09f664bd5904f001a">NET_ADDR</a> *&#160;</td>
          <td class="paramname"><em>topic_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>req_load</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees a network reservation. </p>
<p>Deletes an existing network reservation bandwidth</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">topic_id</td><td>The ID of the topic. Must be greater than 0 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">topic_addr</td><td>The topic network address. Must not be a NULL pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">req_load</td><td>The ammount of reserved bandwidth ammount. Must be greater than 0</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>assert( topic_id ); </dd>
<dd>
assert( topic_addr ); </dd>
<dd>
assert( req_load );</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Upon successful return : ERR_OK (0) </dd>
<dd>
Upon output error : An error code (&lt;0)</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd>Create missing error codes </dd></dl>

</div>
</div>
<a class="anchor" id="a9c722ca9b2b01e74a91b10a8aecf00a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tc_client_reserv_init </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ifface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>node_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_t_c___data___types_8h.html#a16ea33e411c2a3f09f664bd5904f001a">NET_ADDR</a> *&#160;</td>
          <td class="paramname"><em>server_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the client reservation module. </p>
<p>Initializes the module and creates the reservations necessary to the comunication with the server</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ifface</td><td>The NIC to use for networking. Must not be a NULL pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">node_id</td><td>The assigned node ID. Must be greater than 0 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">server_addr</td><td>The server address. Must not be a NULL pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>assert( ifface ); </dd>
<dd>
assert( node_id ); </dd>
<dd>
assert( server_addr );</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Upon successful return : ERR_OK (0) </dd>
<dd>
Upon output error : An error code (&lt;0) </dd></dl>

</div>
</div>
<a class="anchor" id="a050b9e0aaa51b72097b358c1a45a6976"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tc_client_reserv_set </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>topic_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_t_c___data___types_8h.html#a16ea33e411c2a3f09f664bd5904f001a">NET_ADDR</a> *&#160;</td>
          <td class="paramname"><em>topic_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>req_load</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates a network reservation. </p>
<p>Updates an existing network reservation bandwidth</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">topic_id</td><td>The ID of the topic. Must be greater than 0 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">topic_addr</td><td>The topic network address. Must not be a NULL pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">req_load</td><td>The new reservation bandwidth ammount. Must be greater than 0</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>assert( topic_id ); </dd>
<dd>
assert( topic_addr ); </dd>
<dd>
assert( req_load );</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Upon successful return : ERR_OK (0) </dd>
<dd>
Upon output error : An error code (&lt;0)</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000009">Todo:</a></b></dt><dd>Create missing error codes </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e2f1d50623fd5245cc4ce34c1387de82.html">LINUX-TC</a></li><li class="navelem"><a class="el" href="dir_56781fee94a304a1586e3f3840a99b09.html">src</a></li><li class="navelem"><a class="el" href="dir_874080aa3e5289cacadccb2dfc2a445d.html">Client</a></li><li class="navelem"><a class="el" href="dir_695e1b1b773978389926c64da8a1bf3c.html">Modules</a></li><li class="navelem"><a class="el" href="dir_ea937d54e7aa404f7594a4e4c88aa5ba.html">Reservation</a></li><li class="navelem"><a class="el" href="_t_c___client___reserv_8h.html">TC_Client_Reserv.h</a></li>
    <li class="footer">Generated on Thu Jan 3 2013 19:01:17 for LTCNM by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3 </li>
  </ul>
</div>
</body>
</html>
